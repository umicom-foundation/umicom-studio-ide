/*-----------------------------------------------------------------------------
 * Umicom Studio IDE
 * File: win/umicom.rc
 *
 * PURPOSE:
 *   Windows resource script for the app icon and embedded splash PNG.
 *   Minimal and stable for both MSVC and MinGW/Clang (windres).
 *
 * NOTES:
 *   - The ONLY source of resource IDs is: resource.h (provided via include path).
 *   - Do NOT duplicate resource.h in this folder; keep a single canonical header.
 *
 * LICENSE:
 *   MIT (see project root). Keep this header comment intact for attribution.
 *
 * Created by: Umicom Foundation | Developer: Sammy Hegab | Date: 2025-10-15
 *---------------------------------------------------------------------------*/

#include <windows.h>
#include "resource.h"   // resolved by target include dirs (no relative paths)

// Application icons (ICO should contain multiple sizes; Windows picks best fit)
//------------------------------------------------------------------------------
// Icons
//------------------------------------------------------------------------------
// The .ico should contain multiple sizes (16/32/48/64/128/256). Windows will
// automatically choose the best fit.
IDI_APPICON       ICON    "umicom.ico"
IDI_APPICON_SMALL ICON    "umicom.ico"

//------------------------------------------------------------------------------
// Splash / branding image
//------------------------------------------------------------------------------
// Embed PNG splash as raw data (portable and easy to load in code)
IDP_SPLASH        RCDATA  "umicom-logo.png"

// --- Optional VERSIONINFO block (enable via CMake defs) ---
//------------------------------------------------------------------------------
// Optional VERSIONINFO
//------------------------------------------------------------------------------
// Enable by defining UMI_FILE_VERSION_MAJOR/MINOR/PATCH via CMake, e.g.:
// target_compile_definitions(umicom_studio PRIVATE
//   UMI_FILE_VERSION_MAJOR=${PROJECT_VERSION_MAJOR}
//   UMI_FILE_VERSION_MINOR=${PROJECT_VERSION_MINOR}
//   UMI_FILE_VERSION_PATCH=${PROJECT_VERSION_PATCH})
//------------------------------------------------------------------------------

#ifdef UMI_FILE_VERSION_MAJOR
VS_VERSION_INFO VERSIONINFO
 FILEVERSION     UMI_FILE_VERSION_MAJOR,UMI_FILE_VERSION_MINOR,UMI_FILE_VERSION_PATCH,0
 PRODUCTVERSION  UMI_FILE_VERSION_MAJOR,UMI_FILE_VERSION_MINOR,UMI_FILE_VERSION_PATCH,0
 FILEFLAGSMASK   0x3fL
#ifdef _DEBUG
 FILEFLAGS       0x1L
#else
 FILEFLAGS       0x0L
#endif
 FILEOS          0x40004L
 FILETYPE        0x1L
 FILESUBTYPE     0x0L
BEGIN
  BLOCK "StringFileInfo"
  BEGIN
  // 0409 = en-US, 04B0 = Unicode, common for VS-generated resources
      BLOCK "040904B0"
    BEGIN
      VALUE "CompanyName",      "Umicom Foundation\0"
      VALUE "FileDescription",  "Umicom Studio IDE\0"
      VALUE "FileVersion",      "UMI_FILE_VERSION_MAJOR.UMI_FILE_VERSION_MINOR.UMI_FILE_VERSION_PATCH\0"
      VALUE "InternalName",     "umicom-studio-ide.exe\0"
      VALUE "OriginalFilename", "umicom-studio-ide.exe\0"
      VALUE "ProductName",      "Umicom Studio\0"
      VALUE "ProductVersion",   "UMI_FILE_VERSION_MAJOR.UMI_FILE_VERSION_MINOR.UMI_FILE_VERSION_PATCH\0"
      VALUE "LegalCopyright",   "Â© Umicom Foundation\0"
    END
  END
  BLOCK "VarFileInfo"
  BEGIN
    VALUE "Translation", 0x0409, 1200
  END
END
#endif // UMI_FILE_VERSION_MAJOR
